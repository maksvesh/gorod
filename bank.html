<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏—Å—Å–∏—è: –ó–∞—â–∏—Ç–∞ –ë–∞–Ω–∫–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0d2b4d, #1a4a6b);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background: rgba(0, 20, 40, 0.85);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(100, 150, 255, 0.3);
            position: relative;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #4db8ff;
            text-shadow: 0 0 10px rgba(77, 184, 255, 0.5);
            font-size: 2.5rem;
        }
        
        h2 {
            color: #4db8ff;
            margin: 20px 0 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 10px;
        }
        
        h3 {
            color: #4db8ff;
            margin: 15px 0 10px;
        }
        
        .scene {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        .active {
            display: block;
        }
        
        .attempts {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 50, 50, 0.3);
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: bold;
        }
        
        .mission-brief {
            background: rgba(0, 30, 60, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #4db8ff;
            line-height: 1.6;
        }
        
        .choices {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .choice {
            background: rgba(30, 60, 90, 0.7);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .choice:hover {
            background: rgba(40, 80, 120, 0.8);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .choice-number {
            display: inline-block;
            background: #4db8ff;
            color: #000;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .input-group {
            margin: 20px 0;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #4db8ff;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #4db8ff;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            font-size: 16px;
        }
        
        button {
            background: linear-gradient(to right, #4db8ff, #0066cc);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        button:hover {
            background: linear-gradient(to right, #0066cc, #004499);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 102, 204, 0.4);
        }
        
        .result {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 1.2rem;
        }
        
        .success {
            background: rgba(0, 150, 0, 0.3);
            border: 1px solid #00cc00;
            color: #00ff00;
        }
        
        .failure {
            background: rgba(150, 0, 0, 0.3);
            border: 1px solid #ff3333;
            color: #ff6666;
        }
        
        .inventory {
            background: rgba(0, 30, 60, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .inventory-item {
            display: inline-block;
            background: rgba(77, 184, 255, 0.2);
            padding: 8px 15px;
            margin: 5px;
            border-radius: 20px;
            border: 1px solid rgba(77, 184, 255, 0.5);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .timer {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 100, 200, 0.3);
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: bold;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #4db8ff, #00cc99);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .scene-image {
            width: 100%;
            height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            margin: 15px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #aaa;
            font-style: italic;
            background-size: cover;
            background-position: center;
        }
        
        .security-level {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
        }
        
        .security-bar {
            height: 20px;
            background: rgba(255, 0, 0, 0.2);
            border-radius: 10px;
            flex-grow: 1;
            margin: 0 10px;
            overflow: hidden;
        }
        
        .security-fill {
            height: 100%;
            background: linear-gradient(to right, #ff3333, #00cc00);
            width: 100%;
            transition: width 0.5s ease;
        }
        
        .github-button {
    background: linear-gradient(to right, #24292e, #2ea44f);
    position: relative;
    overflow: hidden;
}

.github-button:hover {
    background: linear-gradient(to right, #2ea44f, #24292e);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(46, 164, 79, 0.4);
}

.github-button:after {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: 0.5s;
}

.github-button:hover:after {
    left: 100%;
}
        
        .character-info {
            background: rgba(0, 40, 80, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid #4db8ff;
        }
        
        .mini-game {
            background: rgba(0, 30, 60, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid #4db8ff;
        }
        
        .code-input {
            font-family: monospace;
            font-size: 18px;
            letter-spacing: 2px;
        }
        
        .hacking-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .hacking-cell {
            background: rgba(0, 50, 100, 0.7);
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .hacking-cell:hover {
            background: rgba(0, 100, 200, 0.7);
        }
        
        .hacking-cell.active {
            background: #4db8ff;
            color: #000;
        }
        
        .dialogue {
            background: rgba(0, 20, 40, 0.7);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #4db8ff;
        }
        
        .branching-choices {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .branching-choice {
            background: rgba(30, 60, 90, 0.7);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }
        
        .branching-choice:hover {
            background: rgba(40, 80, 120, 0.8);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .consequence {
            background: rgba(150, 100, 0, 0.3);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 3px solid #ffaa00;
        }
        
        .skill-check {
            background: rgba(100, 0, 100, 0.3);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 3px solid #cc00cc;
        }
        
        .notification {
            background: rgba(0, 100, 200, 0.7);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #4db8ff;
            animation: slideIn 0.5s ease-out;
        }
        
        .notification.success {
            background: rgba(0, 150, 0, 0.7);
            border-left: 4px solid #00cc00;
        }
        
        .notification.error {
            background: rgba(150, 0, 0, 0.7);
            border-left: 4px solid #ff3333;
        }
        
        .notification.warning {
            background: rgba(150, 100, 0, 0.7);
            border-left: 4px solid #ffaa00;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .random-event {
            background: rgba(150, 50, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #ff6600;
            animation: pulse 2s infinite;
        }
        
        .event-choices {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }
        
        .event-choice {
            background: rgba(200, 100, 0, 0.7);
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .event-choice:hover {
            background: rgba(220, 120, 0, 0.8);
            transform: translateY(-2px);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 102, 0, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 102, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 102, 0, 0); }
        }
        
        .consequences-list {
            background: rgba(100, 0, 0, 0.3);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 3px solid #ff3333;
        }
        
        .consequence-item {
            margin: 5px 0;
            padding-left: 15px;
            position: relative;
        }
        
        .consequence-item:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #ff6666;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .attempts, .timer {
                position: static;
                display: inline-block;
                margin: 10px;
            }
            
            .branching-choices {
                grid-template-columns: 1fr;
            }
            
            .event-choices {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="attempts">–ü–æ–ø—ã—Ç–∫–∏: <span id="attempts-count">3</span>/3</div>
        <div class="timer">–í—Ä–µ–º—è: <span id="timer">00:00</span></div>
        
        <h1>–ú–∏—Å—Å–∏—è: –ó–∞—â–∏—Ç–∞ –ë–∞–Ω–∫–∞</h1>
        
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        
        <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
        <div id="notification-area"></div>
        
        <!-- –°—Ü–µ–Ω–∞ 0: –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö -->
        <div class="scene active" id="scene-0">
            <h2>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h2>
            <div class="mission-brief">
                <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±–∞–Ω–∫–∞ "–§–µ–¥–µ—Ä–∞–ª –†–µ–∑–µ—Ä–≤".</p>
                <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ.</p>
            </div>
            
            <div class="character-info">
                <h3>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</h3>
                <div class="input-group">
                    <label for="player-name">–ò–º—è:</label>
                    <input type="text" id="player-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                </div>
                
                <div class="input-group">
                    <label for="player-surname">–§–∞–º–∏–ª–∏—è:</label>
                    <input type="text" id="player-surname" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é">
                </div>
                
                <div class="input-group">
                    <label for="player-id">ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:</label>
                    <input type="text" id="player-id" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à ID">
                </div>
            </div>
            
            <button id="start-mission">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</button>
        </div>
        
        <!-- –°—Ü–µ–Ω–∞ 1: –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
        <div class="scene" id="scene-1">
            <h2>–≠—Ç–∞–ø 1: –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h2>
            <div class="scene-image" style="background-color: #0d2b4d; display: flex; align-items: center; justify-content: center;">
                <div>–¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é</div>
            </div>
            
            <div class="mission-brief">
                <p>–í—ã –≤ —Ü–µ–Ω—Ç—Ä–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –±–∞–Ω–∫–∞. –°–∏—Å—Ç–µ–º–∞ —Å–æ–æ–±—â–∞–µ—Ç –æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.</p>
                <p>–ü–æ –¥–∞–Ω–Ω—ã–º —Ä–∞–∑–≤–µ–¥–∫–∏, –≥—Ä—É–ø–ø–∞ –ø—Ä–µ—Å—Ç—É–ø–Ω–∏–∫–æ–≤ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –æ–≥—Ä–∞–±–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –Ω–æ—á—å.</p>
                <p>–í–∞—à–∞ –∑–∞–¥–∞—á–∞ - —É–∫—Ä–µ–ø–∏—Ç—å –∑–∞—â–∏—Ç—É –±–∞–Ω–∫–∞ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –æ–≥—Ä–∞–±–ª–µ–Ω–∏–µ.</p>
            </div>
            
            <div class="security-level">
                <span>–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</span>
                <div class="security-bar">
                    <div class="security-fill" id="security-level" style="width: 60%"></div>
                </div>
                <span id="security-percent">60%</span>
            </div>
            
            <div class="choices">
                <div class="choice" data-choice="1">
                    <span class="choice-number">1</span>
                    –£—Å–∏–ª–∏—Ç—å –æ—Ö—Ä–∞–Ω—É –Ω–∞ –≥–ª–∞–≤–Ω–æ–º –≤—Ö–æ–¥–µ
                </div>
                <div class="choice" data-choice="2">
                    <span class="choice-number">2</span>
                    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è
                </div>
                <div class="choice" data-choice="3">
                    <span class="choice-number">3</span>
                    –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
                </div>
                <div class="choice" data-choice="4">
                    <span class="choice-number">4</span>
                    –ü—Ä–æ–≤–µ—Å—Ç–∏ –≤–Ω–µ–ø–ª–∞–Ω–æ–≤—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Å–∏—Å—Ç–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
                </div>
            </div>
            
            <div class="inventory">
                <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:</h3>
                <div class="inventory-item">–ü–µ—Ä—Å–æ–Ω–∞–ª –æ—Ö—Ä–∞–Ω—ã: <span id="resource-guards">8</span> —á–µ–ª.</div>
                <div class="inventory-item">–ö–∞–º–µ—Ä—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: <span id="resource-cameras">24</span> —à—Ç.</div>
                <div class="inventory-item">–î–∞—Ç—á–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è: <span id="resource-sensors">12</span> —à—Ç.</div>
                <div class="inventory-item">–ë—é–¥–∂–µ—Ç: $<span id="resource-budget">50,000</span></div>
                <div class="inventory-item">–õ–æ—è–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∞: <span id="resource-loyalty">85</span>%</div>
            </div>
            
            <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π -->
            <div id="random-events-area"></div>
        </div>
        
        <!-- –°—Ü–µ–Ω–∞ 2: –¢—Ä–µ–≤–æ–≥–∞ -->
        <div class="scene" id="scene-2">
            <h2>–≠—Ç–∞–ø 2: –¢—Ä–µ–≤–æ–≥–∞</h2>
            <div class="scene-image" style="background-color: #1a4a6b; display: flex; align-items: center; justify-content: center;">
                <div>–°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è</div>
            </div>
            
            <div class="mission-brief">
                <p>–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É –ø–µ—Ä–∏–º–µ—Ç—Ä–∞ –±–∞–Ω–∫–∞.</p>
                <p>–í–æ–∑–º–æ–∂–Ω–æ, –≥—Ä–∞–±–∏—Ç–µ–ª–∏ —É–∂–µ –Ω–∞—á–∞–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—é. –í–∞–º –Ω—É–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ.</p>
            </div>
            
            <div class="security-level">
                <span>–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</span>
                <div class="security-bar">
                    <div class="security-fill" id="security-level-2" style="width: 60%"></div>
                </div>
                <span id="security-percent-2">60%</span>
            </div>
            
            <div class="choices">
                <div class="choice" data-choice="1">
                    <span class="choice-number">1</span>
                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ç—Ä—É–ª—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
                </div>
                <div class="choice" data-choice="2">
                    <span class="choice-number">2</span>
                    –ü–æ–¥–Ω—è—Ç—å –æ–±—â—É—é —Ç—Ä–µ–≤–æ–≥—É
                </div>
                <div class="choice" data-choice="3">
                    <span class="choice-number">3</span>
                    –í–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –∏ –≤—ã–∑–≤–∞—Ç—å –ø–æ–ª–∏—Ü–∏—é
                </div>
                <div class="choice" data-choice="4">
                    <span class="choice-number">4</span>
                    –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –ª–æ–∂–Ω–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ
                </div>
            </div>
            
            <div class="inventory">
                <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:</h3>
                <div class="inventory-item">–ü–µ—Ä—Å–æ–Ω–∞–ª –æ—Ö—Ä–∞–Ω—ã: <span id="resource-guards-2">8</span> —á–µ–ª.</div>
                <div class="inventory-item">–ö–∞–º–µ—Ä—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: <span id="resource-cameras-2">24</span> —à—Ç.</div>
                <div class="inventory-item">–î–∞—Ç—á–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è: <span id="resource-sensors-2">12</span> —à—Ç.</div>
                <div class="inventory-item">–ë—é–¥–∂–µ—Ç: $<span id="resource-budget-2">50,000</span></div>
                <div class="inventory-item">–õ–æ—è–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∞: <span id="resource-loyalty-2">85</span>%</div>
            </div>
            
            <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π -->
            <div id="random-events-area-2"></div>
        </div>
        
        <!-- –°—Ü–µ–Ω–∞ 3: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —É–≥—Ä–æ–∑–∞ -->
        <div class="scene" id="scene-3">
            <h2>–≠—Ç–∞–ø 3: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —É–≥—Ä–æ–∑–∞</h2>
            <div class="scene-image" style="background-color: #0d2b4d; display: flex; align-items: center; justify-content: center;">
                <div>–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div>
            </div>
            
            <div class="mission-brief">
                <p>–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –î–∂–æ–Ω—Å–∞.</p>
                <p>–û–Ω –ø—ã—Ç–∞–ª—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º –∑–æ–Ω–∞–º –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.</p>
                <p>–í–æ–∑–º–æ–∂–Ω–æ, —É –≥—Ä–∞–±–∏—Ç–µ–ª–µ–π –µ—Å—Ç—å —Å–æ–æ–±—â–Ω–∏–∫ –≤–Ω—É—Ç—Ä–∏ –±–∞–Ω–∫–∞.</p>
            </div>
            
            <div class="security-level">
                <span>–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</span>
                <div class="security-bar">
                    <div class="security-fill" id="security-level-3" style="width: 60%"></div>
                </div>
                <span id="security-percent-3">60%</span>
            </div>
            
            <div class="branching-choices">
                <div class="branching-choice" data-choice="1">
                    –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –¥–æ–ø—Ä–æ—Å–∏—Ç—å –î–∂–æ–Ω—Å–∞
                </div>
                <div class="branching-choice" data-choice="2">
                    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∂—É—Ä–Ω–∞–ª—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                </div>
                <div class="branching-choice" data-choice="3">
                    –û—Ç—Å—Ç—Ä–∞–Ω–∏—Ç—å –î–∂–æ–Ω—Å–∞ –æ—Ç duty
                </div>
                <div class="branching-choice" data-choice="4">
                    –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –æ—à–∏–±–∫—É —Å–∏—Å—Ç–µ–º—ã
                </div>
            </div>
            
            <div class="inventory">
                <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:</h3>
                <div class="inventory-item">–ü–µ—Ä—Å–æ–Ω–∞–ª –æ—Ö—Ä–∞–Ω—ã: <span id="resource-guards-3">8</span> —á–µ–ª.</div>
                <div class="inventory-item">–ö–∞–º–µ—Ä—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: <span id="resource-cameras-3">24</span> —à—Ç.</div>
                <div class="inventory-item">–î–∞—Ç—á–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è: <span id="resource-sensors-3">12</span> —à—Ç.</div>
                <div class="inventory-item">–ë—é–¥–∂–µ—Ç: $<span id="resource-budget-3">50,000</span></div>
                <div class="inventory-item">–õ–æ—è–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∞: <span id="resource-loyalty-3">85</span>%</div>
            </div>
            
            <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π -->
            <div id="random-events-area-3"></div>
        </div>
        
        <!-- –°—Ü–µ–Ω–∞ 4: –ö–∏–±–µ—Ä–∞—Ç–∞–∫–∞ -->
        <div class="scene" id="scene-4">
            <h2>–≠—Ç–∞–ø 4: –ö–∏–±–µ—Ä–∞—Ç–∞–∫–∞</h2>
            <div class="scene-image" style="background-color: #1a4a6b; display: flex; align-items: center; justify-content: center;">
                <div>–ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div>
            </div>
            
            <div class="mission-brief">
                <p>–°–∏—Å—Ç–µ–º–∞ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ –ø–æ–ø—ã—Ç–∫—É –≤–∑–ª–æ–º–∞.</p>
                <p>–•–∞–∫–µ—Ä—ã –ø—ã—Ç–∞—é—Ç—Å—è –æ—Ç–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∫–∞–º–µ—Ä—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è.</p>
                <p>–í–∞–º –Ω—É–∂–Ω–æ –∑–∞—â–∏—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ—Ç –∫–∏–±–µ—Ä–∞—Ç–∞–∫–∏.</p>
            </div>
            
            <div class="security-level">
                <span>–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</span>
                <div class="security-bar">
                    <div class="security-fill" id="security-level-4" style="width: 60%"></div>
                </div>
                <span id="security-percent-4">60%</span>
            </div>
            
            <div class="mini-game">
                <h3>–ú–∏–Ω–∏-–∏–≥—Ä–∞: –ó–∞—â–∏—Ç–∞ –æ—Ç —Ö–∞–∫–µ—Ä–æ–≤</h3>
                <p>–ù–∞–π–¥–∏—Ç–µ –∏ –∑–∞–±–ª–æ–∫–∏—Ä—É–π—Ç–µ 3 —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ —Ö–∞–∫–µ—Ä–æ–≤:</p>
                <div class="hacking-grid" id="hacking-grid"></div>
                <p>–ù–∞–π–¥–µ–Ω–æ —Ç–æ—á–µ–∫ –¥–æ—Å—Ç—É–ø–∞: <span id="hacking-found">0</span>/3</p>
            </div>
            
            <div class="choices">
                <div class="choice" data-choice="1">
                    <span class="choice-number">1</span>
                    –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
                </div>
                <div class="choice" data-choice="2">
                    <span class="choice-number">2</span>
                    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∂—É—Ä–Ω–∞–ª—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                </div>
                <div class="choice" data-choice="3">
                    <span class="choice-number">3</span>
                    –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—É –Ω–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
                </div>
                <div class="choice" data-choice="4">
                    <span class="choice-number">4</span>
                    –û—Ç–∫–ª—é—á–∏—Ç—å –≤–Ω–µ—à–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
                </div>
            </div>
            
            <div class="inventory">
                <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:</h3>
                <div class="inventory-item">–ü–µ—Ä—Å–æ–Ω–∞–ª –æ—Ö—Ä–∞–Ω—ã: <span id="resource-guards-4">8</span> —á–µ–ª.</div>
                <div class="inventory-item">–ö–∞–º–µ—Ä—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: <span id="resource-cameras-4">24</span> —à—Ç.</div>
                <div class="inventory-item">–î–∞—Ç—á–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è: <span id="resource-sensors-4">12</span> —à—Ç.</div>
                <div class="inventory-item">–ë—é–¥–∂–µ—Ç: $<span id="resource-budget-4">50,000</span></div>
                <div class="inventory-item">–õ–æ—è–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∞: <span id="resource-loyalty-4">85</span>%</div>
            </div>
            
            <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π -->
            <div id="random-events-area-4"></div>
        </div>
        
        <!-- –°—Ü–µ–Ω–∞ 5: –¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–µ -->
        <div class="scene" id="scene-5">
            <h2>–≠—Ç–∞–ø 5: –¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–µ</h2>
            <div class="scene-image" style="background-color: #0d2b4d; display: flex; align-items: center; justify-content: center;">
                <div>–¢–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞ –±–∞–Ω–∫–∞</div>
            </div>
            
            <div class="mission-brief">
                <p>–ì—Ä–∞–±–∏—Ç–µ–ª–∏ –Ω–∞—á–∞–ª–∏ –∞—Ç–∞–∫—É –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–æ—á–∫–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.</p>
                <p>–ü–æ—Ö–æ–∂–µ, —ç—Ç–æ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–µ. –í–∞–º –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ç–∞–∫–∏.</p>
            </div>
            
            <div class="security-level">
                <span>–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</span>
                <div class="security-bar">
                    <div class="security-fill" id="security-level-5" style="width: 60%"></div>
                </div>
                <span id="security-percent-5">60%</span>
            </div>
            
            <div class="branching-choices">
                <div class="branching-choice" data-choice="1">
                    –ì–ª–∞–≤–Ω—ã–π –≤—Ö–æ–¥
                </div>
                <div class="branching-choice" data-choice="2">
                    –ö—Ä—ã—à–∞
                </div>
                <div class="branching-choice" data-choice="3">
                    –ü–æ–¥–∑–µ–º–Ω—ã–π –ø–∞—Ä–∫–∏–Ω–≥
                </div>
                <div class="branching-choice" data-choice="4">
                    –†–∞–∑–¥–µ–ª–∏—Ç—å —Å–∏–ª—ã —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ
                </div>
            </div>
            
            <div class="inventory">
                <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:</h3>
                <div class="inventory-item">–ü–µ—Ä—Å–æ–Ω–∞–ª –æ—Ö—Ä–∞–Ω—ã: <span id="resource-guards-5">8</span> —á–µ–ª.</div>
                <div class="inventory-item">–ö–∞–º–µ—Ä—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: <span id="resource-cameras-5">24</span> —à—Ç.</div>
                <div class="inventory-item">–î–∞—Ç—á–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è: <span id="resource-sensors-5">12</span> —à—Ç.</div>
                <div class="inventory-item">–î—Ä–æ–Ω—ã: <span id="resource-drones">2</span> —à—Ç.</div>
                <div class="inventory-item">–¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã: <span id="resource-tactical">2</span></div>
            </div>
            
            <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π -->
            <div id="random-events-area-5"></div>
        </div>
        
        <!-- –°—Ü–µ–Ω–∞ 6: –ó–∞—â–∏—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ -->
        <div class="scene" id="scene-6">
            <h2>–≠—Ç–∞–ø 6: –ó–∞—â–∏—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞</h2>
            <div class="scene-image" style="background-color: #1a4a6b; display: flex; align-items: center; justify-content: center;">
                <div>–•—Ä–∞–Ω–∏–ª–∏—â–µ –±–∞–Ω–∫–∞</div>
            </div>
            
            <div class="mission-brief">
                <p>–ì—Ä–∞–±–∏—Ç–µ–ª–∏ –ø—Ä–æ—Ä–≤–∞–ª–∏—Å—å –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –±–∞–Ω–∫–∞.</p>
                <p>–£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∑–∞—â–∏—Ç—ã. –í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π.</p>
            </div>
            
            <div class="security-level">
                <span>–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</span>
                <div class="security-bar">
                    <div class="security-fill" id="security-level-6" style="width: 60%"></div>
                </div>
                <span id="security-percent-6">60%</span>
            </div>
            
            <div class="choices">
                <div class="choice" data-choice="1">
                    <span class="choice-number">1</span>
                    –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–ª—å–Ω—ã–µ –¥–≤–µ—Ä–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
                </div>
                <div class="choice" data-choice="2">
                    <span class="choice-number">2</span>
                    –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –≥–∞–∑–æ–≤–æ–≥–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è
                </div>
                <div class="choice" data-choice="3">
                    <span class="choice-number">3</span>
                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–∞–∫—Ç–∏—á–µ—Å–∫—É—é –≥—Ä—É–ø–ø—É –¥–ª—è –∑–∞—â–∏—Ç—ã
                </div>
                <div class="choice" data-choice="4">
                    <span class="choice-number">4</span>
                    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä–æ–Ω—ã –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
                </div>
            </div>
            
            <div class="inventory">
                <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:</h3>
                <div class="inventory-item">–ü–µ—Ä—Å–æ–Ω–∞–ª –æ—Ö—Ä–∞–Ω—ã: <span id="resource-guards-6">8</span> —á–µ–ª.</div>
                <div class="inventory-item">–ö–∞–º–µ—Ä—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: <span id="resource-cameras-6">24</span> —à—Ç.</div>
                <div class="inventory-item">–î–∞—Ç—á–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è: <span id="resource-sensors-6">12</span> —à—Ç.</div>
                <div class="inventory-item">–î—Ä–æ–Ω—ã: <span id="resource-drones-6">2</span> —à—Ç.</div>
                <div class="inventory-item">–¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã: <span id="resource-tactical-6">2</span></div>
            </div>
            
            <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π -->
            <div id="random-events-area-6"></div>
        </div>
        
        <!-- –°—Ü–µ–Ω–∞ 7: –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ—Ä–æ–Ω—Ç–∞—Ü–∏—è -->
        <div class="scene" id="scene-7">
            <h2>–≠—Ç–∞–ø 7: –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ—Ä–æ–Ω—Ç–∞—Ü–∏—è</h2>
            <div class="scene-image" style="background-color: #0d2b4d; display: flex; align-items: center; justify-content: center;">
                <div>–§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ—Ä–æ–Ω—Ç–∞—Ü–∏—è</div>
            </div>
            
            <div class="mission-brief">
                <p>–õ–∏–¥–µ—Ä –≥—Ä–∞–±–∏—Ç–µ–ª–µ–π —Å–≤—è–∑–∞–ª—Å—è —Å –≤–∞–º–∏ –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏.</p>
                <p>–û–Ω —É–≥—Ä–æ–∂–∞–µ—Ç –≤–∑–æ—Ä–≤–∞—Ç—å —á–∞—Å—Ç—å –∑–¥–∞–Ω–∏—è, –µ—Å–ª–∏ –≤—ã –Ω–µ –æ—Ç–∫—Ä–æ–µ—Ç–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.</p>
                <p>–í–∞–º –Ω—É–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.</p>
            </div>
            
            <div class="security-level">
                <span>–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</span>
                <div class="security-bar">
                    <div class="security-fill" id="security-level-7" style="width: 60%"></div>
                </div>
                <span id="security-percent-7">60%</span>
            </div>
            
            <div class="branching-choices">
                <div class="branching-choice" data-choice="1">
                    –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è
                </div>
                <div class="branching-choice" data-choice="2">
                    –ü—Ä–∏—Ç–≤–æ—Ä–∏—Ç—å—Å—è, —á—Ç–æ —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å, —á—Ç–æ–±—ã –≤—ã–∏–≥—Ä–∞—Ç—å –≤—Ä–µ–º—è
                </div>
                <div class="branching-choice" data-choice="3">
                    –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–±–µ–∑–≤—Ä–µ–¥–∏—Ç—å –≤–∑—Ä—ã–≤—á–∞—Ç–∫—É
                </div>
                <div class="branching-choice" data-choice="4">
                    –ù–∞—á–∞—Ç—å —à—Ç—É—Ä–º
                </div>
            </div>
            
            <div class="inventory">
                <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:</h3>
                <div class="inventory-item">–ü–µ—Ä—Å–æ–Ω–∞–ª –æ—Ö—Ä–∞–Ω—ã: <span id="resource-guards-7">8</span> —á–µ–ª.</div>
                <div class="inventory-item">–ö–∞–º–µ—Ä—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: <span id="resource-cameras-7">24</span> —à—Ç.</div>
                <div class="inventory-item">–î–∞—Ç—á–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è: <span id="resource-sensors-7">12</span> —à—Ç.</div>
                <div class="inventory-item">–î—Ä–æ–Ω—ã: <span id="resource-drones-7">2</span> —à—Ç.</div>
                <div class="inventory-item">–¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã: <span id="resource-tactical-7">2</span></div>
                <div class="inventory-item">–ü–∞—Ç—Ä—É–ª–∏: <span id="resource-patrols">3</span></div>
            </div>
            
            <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π -->
            <div id="random-events-area-7"></div>
        </div>
        
        <!-- –°—Ü–µ–Ω–∞ 8: –†–∞–∑–≤—è–∑–∫–∞ -->
        <div class="scene" id="scene-8">
            <h2>–†–∞–∑–≤—è–∑–∫–∞</h2>
            
            <div class="mission-brief">
                <p>–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ü–æ–ª–∏—Ü–∏—è –ø—Ä–∏–±—ã–ª–∞ –Ω–∞ –º–µ—Å—Ç–æ.</p>
                <div id="ending-content">
                    <!-- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–æ–Ω—Ü–æ–≤–∫–∏ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
            
            <div class="result" id="mission-result">
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            
            <div class="git-section">
    <h3>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h3>
    <p>–û—Ç—á–µ—Ç –æ –º–∏—Å—Å–∏–∏ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∑–∞—â–∏—â–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –±–∞–Ω–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞—Ä—Ö–∏–≤.</p>
    
    <div class="input-group">
        <label for="commit-message">–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç—á–µ—Ç–∞:</label>
        <textarea id="commit-message" rows="3" placeholder="–û–ø–∏—à–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–∏..."></textarea>
    </div>
    
    <div class="security-level">
        <span>–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:</span>
        <div class="security-bar">
            <div class="security-fill" style="width: 95%; background: linear-gradient(to right, #4db8ff, #00cc99);"></div>
        </div>
        <span>95%</span>
    </div>
    
    <button id="save-report" class="github-button">
        <span>üîí –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç –≤ –∞—Ä—Ö–∏–≤</span>
    </button>
    
    <div id="git-output" style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.3); border-radius: 5px; display: none;"></div>
    
    <div style="margin-top: 10px; font-size: 0.9em; color: #4db8ff;">
        <p>‚úì –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: –í–ö–õ</p>
        <p>‚úì –ó–∞—â–∏—â–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: –ê–ö–¢–ò–í–ù–û</p>
        <p>‚úì –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ: –í–ö–õ</p>
    </div>
</div>

    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let player = {
            name: '',
            surname: '',
            id: '',
            attempts: 3,
            currentAttempt: 0,
            currentScene: 0,
            securityLevel: 60,
            resources: {
                guards: 8,
                cameras: 24,
                sensors: 12,
                alarm: true,
                firewall: true,
                gasSystem: true,
                drones: 2,
                budget: 50000,
                loyalty: 85,
                tacticalTeams: 2,
                patrols: 3
            },
            correctChoices: {
                1: '2',  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è
                2: '3',  // –í–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –∏ –≤—ã–∑–≤–∞—Ç—å –ø–æ–ª–∏—Ü–∏—é
                3: '2',  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∂—É—Ä–Ω–∞–ª—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                4: '3',  // –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—É –Ω–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
                5: '3',  // –ü–æ–¥–∑–µ–º–Ω—ã–π –ø–∞—Ä–∫–∏–Ω–≥ - –Ω–µ–∑–∞–º–µ—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
                6: '2',  // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –≥–∞–∑–æ–≤–æ–≥–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è
                7: '2'   // –ü—Ä–∏—Ç–≤–æ—Ä–∏—Ç—å—Å—è, —á—Ç–æ —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å, —á—Ç–æ–±—ã –≤—ã–∏–≥—Ä–∞—Ç—å –≤—Ä–µ–º—è
            },
            hackingPoints: [],
            hackingFound: 0,
            startTime: null,
            timerInterval: null,
            choicesHistory: [],
            ending: '',
            randomEvents: [],
            consequences: [],
            activeEvent: null
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        let attemptsCount, timerElement, progressBar, playerNameInput, playerSurnameInput, playerIdInput;
        let startMissionButton, restartButton, missionResult, saveReportButton, commitMessageInput, gitOutput;
        let hackingGrid, hackingFoundElement, endingContent, notificationArea;

        // –°–∏—Å—Ç–µ–º–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
        const randomEvents = [
            {
                id: 1,
                title: "–°–±–æ–π –≤ —Å–∏—Å—Ç–µ–º–µ —ç–ª–µ–∫—Ç—Ä–æ–ø–∏—Ç–∞–Ω–∏—è",
                description: "–ß–∞—Å—Ç—å —Å–∏—Å—Ç–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –∏–∑-–∑–∞ –ø–µ—Ä–µ–±–æ–µ–≤ —Å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ–º. –¢—Ä–µ–±—É–µ—Ç—Å—è —Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.",
                type: "technical",
                scene: [1, 2, 3, 4],
                choices: [
                    {
                        text: "–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã",
                        effect: { budget: -5000, security: 5 },
                        message: "–†–µ–∑–µ—Ä–≤–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã. –°–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã."
                    },
                    {
                        text: "–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã",
                        effect: { security: -10 },
                        message: "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏—Å—Ç–µ–º—ã –æ—Ç–∫–ª—é—á–µ–Ω—ã. –£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–Ω–∏–∂–µ–Ω."
                    },
                    {
                        text: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫–æ–≤ –¥–ª—è —Å—Ä–æ—á–Ω–æ–≥–æ —Ä–µ–º–æ–Ω—Ç–∞",
                        effect: { budget: -8000, guards: -1, security: 8 },
                        message: "–¢–µ—Ö–Ω–∏–∫–∏ —É—Å—Ç—Ä–∞–Ω–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É. –°–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —à—Ç–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ."
                    }
                ],
                chance: 0.3
            },
            {
                id: 2,
                title: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –∫–∞–º–µ—Ä",
                description: "–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è. –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–º–µ—Ä –≤—ã—à–ª–∏ –∏–∑ —Å—Ç—Ä–æ—è.",
                type: "technical",
                scene: [1, 2, 3],
                choices: [
                    {
                        text: "–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã",
                        effect: { cameras: -2, security: -5 },
                        message: "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—ã—è–≤–∏–ª–∞ –ø—Ä–æ–±–ª–µ–º—É, –Ω–æ –∫–∞–º–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã."
                    },
                    {
                        text: "–ü–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–æ–Ω—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è",
                        effect: { security: -3 },
                        message: "–ó–æ–Ω—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, –Ω–æ –æ—Å—Ç–∞–ª–∏—Å—å —Å–ª–µ–ø—ã–µ –∑–æ–Ω—ã."
                    },
                    {
                        text: "–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –∑–∞–ø–∞—Å –∫–∞–º–µ—Ä –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞",
                        effect: { cameras: 4, budget: -3000, security: 3 },
                        message: "–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–∞–º–µ—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã. –°–∏—Å—Ç–µ–º–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞."
                    }
                ],
                chance: 0.25
            },
            {
                id: 3,
                title: "–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –ø–æ–º–æ—â—å",
                description: "–°–æ—Å–µ–¥–Ω–µ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–∏—Ü–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–∏–ª–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ —Å–≤—è–∑–∏ —Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —É–≥—Ä–æ–∑–æ–π.",
                type: "personnel",
                scene: [2, 3, 4],
                choices: [
                    {
                        text: "–ü—Ä–∏–Ω—è—Ç—å –ø–æ–º–æ—â—å –∏ —É—Å–∏–ª–∏—Ç—å –æ—Ö—Ä–∞–Ω—É",
                        effect: { guards: 3, security: 8 },
                        message: "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏–ª—ã –ø—Ä–∏–±—ã–ª–∏. –£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ–≤—ã—à–µ–Ω."
                    },
                    {
                        text: "–í–µ–∂–ª–∏–≤–æ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è, –ø–æ–ª–∞–≥–∞—è—Å—å –Ω–∞ —Å–≤–æ–∏ —Å–∏–ª—ã",
                        effect: { security: -5 },
                        message: "–í—ã –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–≤–æ–∏—Ö —Å–∏–ª–∞—Ö."
                    },
                    {
                        text: "–ü–æ–ø—Ä–æ—Å–∏—Ç—å –¥–µ–∂—É—Ä–Ω—É—é –≥—Ä—É–ø–ø—É –Ω–∞ —Å–ª—É—á–∞–π —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏",
                        effect: { guards: 2, security: 5 },
                        message: "–†–µ–∑–µ—Ä–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞ –∫ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–º—É –≤—ã–∑–æ–≤—É."
                    }
                ],
                chance: 0.2
            }
        ];

        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Ä–æ–≤–Ω—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        function checkSecurityLevel() {
            if (player.securityLevel <= 0) {
                player.securityLevel = 0;
                immediateMissionFailure('–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —É–ø–∞–ª –¥–æ –Ω—É–ª—è! –ë–∞–Ω–∫ –±—ã–ª –æ–≥—Ä–∞–±–ª–µ–Ω.');
                return true;
            }
            return false;
        }

        // –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∏—Å—Å–∏–∏ –ø—Ä–∏ 0% –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        function immediateMissionFailure(reason) {
            clearInterval(player.timerInterval);
            player.ending = 'bad';
            
            showNotification(reason, 'error');
            
            completeMission(false, reason);
        }

        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –Ω–∞–≤–µ—Ä—Ö
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
 // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
function initGame() {
    // –£–±—Ä–∞–ª –≤—ã–∑–æ–≤ updateSaveReportFunction() - —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    
    // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã DOM
    attemptsCount = document.getElementById('attempts-count');
    timerElement = document.getElementById('timer');
    progressBar = document.getElementById('progress');
    playerNameInput = document.getElementById('player-name');
    playerSurnameInput = document.getElementById('player-surname');
    playerIdInput = document.getElementById('player-id');
    startMissionButton = document.getElementById('start-mission');
    restartButton = document.getElementById('restart');
    missionResult = document.getElementById('mission-result');
    saveReportButton = document.getElementById('save-report');
    commitMessageInput = document.getElementById('commit-message');
    gitOutput = document.getElementById('git-output');
    hackingGrid = document.getElementById('hacking-grid');
    hackingFoundElement = document.getElementById('hacking-found');
    endingContent = document.getElementById('ending-content');
    notificationArea = document.getElementById('notification-area');

    console.log('–ù–∞–π–¥–µ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã:', {
        startMissionButton: !!startMissionButton,
        playerNameInput: !!playerNameInput,
        playerSurnameInput: !!playerSurnameInput,
        playerIdInput: !!playerIdInput
    });

    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    updateAttemptsDisplay();
    updateSecurityDisplay();
    updateResourcesDisplay();
    
    // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    setupEventListeners();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∏–Ω–∏-–∏–≥—Ä—É (–µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
    if (hackingGrid) {
        initHackingGame();
    }
}

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            console.log('–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π...');
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –Ω–∞—á–∞–ª–∞ –º–∏—Å—Å–∏–∏
            if (startMissionButton) {
                startMissionButton.addEventListener('click', startMission);
                console.log('–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è start-mission –¥–æ–±–∞–≤–ª–µ–Ω');
            } else {
                console.error('–ö–Ω–æ–ø–∫–∞ start-mission –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
            if (restartButton) {
                restartButton.addEventListener('click', restartGame);
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞
            if (saveReportButton) {
                saveReportButton.addEventListener('click', saveReport);
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
            document.querySelectorAll('.choice').forEach(choice => {
                choice.addEventListener('click', handleChoice);
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤–µ—Ç–≤—è—â–∏—Ö—Å—è –≤—ã–±–æ—Ä–æ–≤
            document.querySelectorAll('.branching-choice').forEach(choice => {
                choice.addEventListener('click', handleBranchingChoice);
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–ª–∞–≤–∏—à–∏ Enter –≤ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞
            addEnterKeyListeners();
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–ª–∞–≤–∏—à–∏ Enter –≤ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞
        function addEnterKeyListeners() {
            if (playerNameInput) {
                playerNameInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        startMission();
                    }
                });
            }
            
            if (playerSurnameInput) {
                playerSurnameInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        startMission();
                    }
                });
            }
            
            if (playerIdInput) {
                playerIdInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        startMission();
                    }
                });
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message, type = 'info') {
            if (!notificationArea) return;
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            notificationArea.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 5000);
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
        function generateRandomEvent(scene) {
            const eventsArea = document.getElementById(`random-events-area-${scene}`) || 
                              document.getElementById('random-events-area');
            
            if (!eventsArea) return;
            
            eventsArea.innerHTML = '';
            
            if (Math.random() > 0.3) return;
            
            const availableEvents = randomEvents.filter(event => 
                !player.randomEvents.includes(event.id) && 
                event.scene.includes(scene) && 
                Math.random() < event.chance
            );
            
            if (availableEvents.length === 0) return;
            
            const randomEvent = availableEvents[Math.floor(Math.random() * availableEvents.length)];
            player.activeEvent = randomEvent;
            
            const eventElement = document.createElement('div');
            eventElement.className = 'random-event';
            eventElement.innerHTML = `
                <h3>–°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ: ${randomEvent.title}</h3>
                <p>${randomEvent.description}</p>
                <div class="event-choices" id="event-choices-${randomEvent.id}"></div>
            `;
            
            eventsArea.appendChild(eventElement);
            
            const choicesContainer = document.getElementById(`event-choices-${randomEvent.id}`);
            randomEvent.choices.forEach((choice, index) => {
                const choiceElement = document.createElement('div');
                choiceElement.className = 'event-choice';
                choiceElement.textContent = choice.text;
                choiceElement.dataset.choice = index;
                choiceElement.addEventListener('click', () => handleEventChoice(randomEvent, index));
                choicesContainer.appendChild(choiceElement);
            });
            
            showNotification(`–ü—Ä–æ–∏–∑–æ—à–ª–æ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ: ${randomEvent.title}`, 'warning');
            
            document.querySelectorAll('.choice, .branching-choice').forEach(choice => {
                choice.style.pointerEvents = 'none';
                choice.style.opacity = '0.5';
            });
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –≤ —Å–ª—É—á–∞–π–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏
        function handleEventChoice(event, choiceIndex) {
            const choice = event.choices[choiceIndex];
            
            applyEventEffects(choice.effect);
            
            player.randomEvents.push(event.id);
            
            showNotification(choice.message, 'success');
            
            updateSecurityDisplay();
            updateResourcesDisplay();
            
            if (checkSecurityLevel()) return;
            
            const eventsArea = document.getElementById(`random-events-area-${player.currentScene}`) || 
                              document.getElementById('random-events-area');
            eventsArea.innerHTML = '';
            
            document.querySelectorAll('.choice, .branching-choice').forEach(choice => {
                choice.style.pointerEvents = 'auto';
                choice.style.opacity = '1';
            });
            
            player.activeEvent = null;
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ —Å–æ–±—ã—Ç–∏—è
        function applyEventEffects(effects) {
            for (const [key, value] of Object.entries(effects)) {
                if (key in player.resources) {
                    player.resources[key] += value;
                    if (player.resources[key] < 0) player.resources[key] = 0;
                } else if (key === 'security') {
                    player.securityLevel += value;
                    if (player.securityLevel < 0) player.securityLevel = 0;
                    if (player.securityLevel > 100) player.securityLevel = 100;
                }
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–Ω–∏-–∏–≥—Ä—ã —Å —Ö–∞–∫–µ—Ä–∞–º–∏
        function initHackingGame() {
            if (!hackingGrid) return;
            
            hackingGrid.innerHTML = '';
            
            for (let i = 0; i < 25; i++) {
                const cell = document.createElement('div');
                cell.className = 'hacking-cell';
                cell.dataset.index = i;
                cell.textContent = '?';
                cell.addEventListener('click', handleHackingCellClick);
                hackingGrid.appendChild(cell);
            }
            
            player.hackingPoints = [];
            while (player.hackingPoints.length < 3) {
                const randomIndex = Math.floor(Math.random() * 25);
                if (!player.hackingPoints.includes(randomIndex)) {
                    player.hackingPoints.push(randomIndex);
                }
            }
            
            player.hackingFound = 0;
            if (hackingFoundElement) {
                hackingFoundElement.textContent = '0';
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ —è—á–µ–π–∫–µ –≤ –º–∏–Ω–∏-–∏–≥—Ä–µ
        function handleHackingCellClick(e) {
            const cell = e.currentTarget;
            const index = parseInt(cell.dataset.index);
            
            if (cell.classList.contains('active')) return;
            
            cell.classList.add('active');
            
            if (player.hackingPoints.includes(index)) {
                cell.textContent = '‚úì';
                cell.style.background = '#00cc00';
                player.hackingFound++;
                if (hackingFoundElement) {
                    hackingFoundElement.textContent = player.hackingFound;
                }
                
                if (player.hackingFound === 3) {
                    setTimeout(() => {
                        showNotification('–í—Å–µ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ —Ö–∞–∫–µ—Ä–æ–≤ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã!', 'success');
                        player.securityLevel += 5;
                        updateSecurityDisplay();
                    }, 500);
                }
            } else {
                cell.textContent = '‚úó';
                cell.style.background = '#cc0000';
            }
        }

        // –ù–∞—á–∞—Ç—å –º–∏—Å—Å–∏—é
        function startMission() {
            console.log('–ö–Ω–æ–ø–∫–∞ "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏" –Ω–∞–∂–∞—Ç–∞!');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
            if (!playerNameInput || !playerSurnameInput || !playerIdInput) {
                console.error('–ù–µ –Ω–∞–π–¥–µ–Ω—ã –ø–æ–ª—è –≤–≤–æ–¥–∞:', {
                    name: !!playerNameInput,
                    surname: !!playerSurnameInput,
                    id: !!playerIdInput
                });
                showNotification('–û—à–∏–±–∫–∞ —Å–∏—Å—Ç–µ–º—ã: –ø–æ–ª—è –≤–≤–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã', 'error');
                return;
            }
            
            player.name = playerNameInput.value.trim();
            player.surname = playerSurnameInput.value.trim();
            player.id = playerIdInput.value.trim();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π
            if (!player.name) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è!', 'error');
                playerNameInput.focus();
                return;
            }
            
            if (!player.surname) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é!', 'error');
                playerSurnameInput.focus();
                return;
            }
            
            if (!player.id) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞!', 'error');
                playerIdInput.focus();
                return;
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –º–∏—Å—Å–∏—é
            player.currentAttempt++;
            updateAttemptsDisplay();
            updateResourcesDisplay();
            
            player.startTime = new Date();
            startTimer();
            
            showScene(1);
            
            showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${player.name} ${player.surname}! –ú–∏—Å—Å–∏—è –Ω–∞—á–∞—Ç–∞.`, 'success');
            
            setTimeout(scrollToTop, 100);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ü–µ–Ω—É
        function showScene(sceneNumber) {
            document.querySelectorAll('.scene').forEach(scene => {
                scene.classList.remove('active');
            });
            
            const targetScene = document.getElementById(`scene-${sceneNumber}`);
            if (targetScene) {
                targetScene.classList.add('active');
            }
            
            player.currentScene = sceneNumber;
            
            updateProgress();
            updateSecurityDisplay();
            updateResourcesDisplay();
            
            if (sceneNumber === 4) {
                initHackingGame();
            }
            
            if (sceneNumber > 0 && sceneNumber < 8 && !player.activeEvent) {
                setTimeout(() => {
                    generateRandomEvent(sceneNumber);
                }, 1000);
            }
            
            setTimeout(scrollToTop, 100);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∏–≥—Ä–æ–∫–∞
        function handleChoice(e) {
            if (player.activeEvent) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ —Ä–µ—à–∏—Ç–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ!', 'warning');
                return;
            }
            
            const choice = e.currentTarget.getAttribute('data-choice');
            const scene = player.currentScene;
            
            player.choicesHistory.push({scene, choice});
            
            if (choice === player.correctChoices[scene]) {
                handleCorrectChoice(scene, choice);
            } else {
                handleIncorrectChoice(scene, choice);
            }
            
            setTimeout(scrollToTop, 100);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ—Ç–≤—è—â–µ–≥–æ—Å—è –≤—ã–±–æ—Ä–∞
        function handleBranchingChoice(e) {
            if (player.activeEvent) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ —Ä–µ—à–∏—Ç–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ!', 'warning');
                return;
            }
            
            const choice = e.currentTarget.getAttribute('data-choice');
            const scene = player.currentScene;
            
            player.choicesHistory.push({scene, choice, branching: true});
            
            switch(scene) {
                case 3:
                    handleInternalThreat(choice);
                    break;
                case 5:
                    handleTacticalDistraction(choice);
                    break;
                case 7:
                    handleFinalConfrontation(choice);
                    break;
            }
            
            setTimeout(scrollToTop, 100);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —É–≥—Ä–æ–∑—ã
        function handleInternalThreat(choice) {
            let success = false;
            let message = '';
            
            switch(choice) {
                case '1':
                    if (Math.random() < 0.6) {
                        success = true;
                        message = '–î–∂–æ–Ω—Å –ø—Ä–∏–∑–Ω–∞–ª—Å—è –≤ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–µ —Å –≥—Ä–∞–±–∏—Ç–µ–ª—è–º–∏! –í—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —É–≥—Ä–æ–∑—É.';
                    } else {
                        message = '–î–∂–æ–Ω—Å –æ—Ç—Ä–∏—Ü–∞–µ—Ç –≤—Å–µ –æ–±–≤–∏–Ω–µ–Ω–∏—è. –í—ã –Ω–µ —Å–º–æ–≥–ª–∏ –¥–æ–∫–∞–∑–∞—Ç—å –µ–≥–æ –ø—Ä–∏—á–∞—Å—Ç–Ω–æ—Å—Ç—å.';
                    }
                    break;
                    
                case '2':
                    if (Math.random() < 0.8) {
                        success = true;
                        message = '–ñ—É—Ä–Ω–∞–ª—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏—è! –î–∂–æ–Ω—Å –æ—Ç—Å—Ç—Ä–∞–Ω–µ–Ω –æ—Ç duty.';
                    } else {
                        message = '–í –∂—É—Ä–Ω–∞–ª–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤. –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –æ—à–∏–±–ª–∏—Å—å.';
                    }
                    break;
                    
                case '3':
                    message = '–í—ã –æ—Ç—Å—Ç—Ä–∞–Ω–∏–ª–∏ –î–∂–æ–Ω—Å–∞ –æ—Ç duty. –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ —Å—Ä–µ–¥–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞.';
                    player.securityLevel -= 5;
                    player.resources.loyalty -= 10;
                    showScene(4);
                    showNotification(message, 'warning');
                    if (checkSecurityLevel()) return;
                    return;
                    
                case '4':
                    if (Math.random() < 0.3) {
                        message = '–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±—ã–ª–∞ –æ—à–∏–±–∫–∞ —Å–∏—Å—Ç–µ–º—ã. –ù–∏–∫–∞–∫–æ–π —É–≥—Ä–æ–∑—ã –Ω–µ –±—ã–ª–æ.';
                    } else {
                        message = '–î–∂–æ–Ω—Å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±—ã–ª —Å–æ–æ–±—â–Ω–∏–∫–æ–º –≥—Ä–∞–±–∏—Ç–µ–ª–µ–π! –¢–µ–ø–µ—Ä—å —É –Ω–∏—Ö –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø.';
                        player.securityLevel -= 15;
                        player.resources.loyalty -= 15;
                    }
                    break;
            }
            
            showNotification(message, success ? 'success' : 'warning');
            
            if (success) {
                player.securityLevel += 5;
            }
            
            updateSecurityDisplay();
            updateResourcesDisplay();
            
            if (checkSecurityLevel()) return;
            
            showScene(4);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–≤–ª–µ—á–µ–Ω–∏—è
        function handleTacticalDistraction(choice) {
            let message = '';
            let type = 'info';
            
            switch(choice) {
                case '1':
                    if (Math.random() < 0.6) {
                        message = '–í—ã —É–≥–∞–¥–∞–ª–∏! –ì—Ä–∞–±–∏—Ç–µ–ª–∏ –ø—ã—Ç–∞–ª–∏—Å—å –ø—Ä–æ–Ω–∏–∫–Ω—É—Ç—å —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω—ã–π –≤—Ö–æ–¥.';
                        player.securityLevel += 10;
                        type = 'success';
                    } else {
                        message = '–ù–∞ –≥–ª–∞–≤–Ω–æ–º –≤—Ö–æ–¥–µ –Ω–∏–∫–æ–≥–æ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ. –û—Å–Ω–æ–≤–Ω–∞—è –∞—Ç–∞–∫–∞ –±—ã–ª–∞ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ.';
                        player.securityLevel -= 10;
                        type = 'warning';
                    }
                    break;
                    
                case '2':
                    if (Math.random() < 0.4) {
                        message = '–í—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –≥—Ä—É–ø–ø—É –≥—Ä–∞–±–∏—Ç–µ–ª–µ–π –Ω–∞ –∫—Ä—ã—à–µ!';
                        player.securityLevel += 5;
                        type = 'success';
                    } else {
                        message = '–ù–∞ –∫—Ä—ã—à–µ –Ω–∏–∫–æ–≥–æ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ. –û—Å–Ω–æ–≤–Ω–∞—è –∞—Ç–∞–∫–∞ –±—ã–ª–∞ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ.';
                        player.securityLevel -= 10;
                        type = 'warning';
                    }
                    break;
                    
                case '3':
                    if (Math.random() < 0.7) {
                        message = '–í—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –≥—Ä—É–ø–ø—É –≥—Ä–∞–±–∏—Ç–µ–ª–µ–π –≤ –ø–æ–¥–∑–µ–º–Ω–æ–º –ø–∞—Ä–∫–∏–Ω–≥–µ!';
                        player.securityLevel += 5;
                        type = 'success';
                    } else {
                        message = '–í –ø–æ–¥–∑–µ–º–Ω–æ–º –ø–∞—Ä–∫–∏–Ω–≥–µ –Ω–∏–∫–æ–≥–æ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ. –û—Å–Ω–æ–≤–Ω–∞—è –∞—Ç–∞–∫–∞ –±—ã–ª–∞ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ.';
                        player.securityLevel -= 10;
                        type = 'warning';
                    }
                    break;
                    
                case '4':
                    message = '–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–∏–ª –æ—Å–ª–∞–±–∏–ª–æ –∑–∞—â–∏—Ç—É –≤ –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—á–∫–∞—Ö.';
                    player.securityLevel -= 5;
                    type = 'warning';
                    break;
            }
            
            showNotification(message, type);
            updateSecurityDisplay();
            
            if (checkSecurityLevel()) return;
            
            showScene(6);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ—Ä–æ–Ω—Ç–∞—Ü–∏–∏
        function handleFinalConfrontation(choice) {
            let success = false;
            let message = '';
            let type = 'info';
            
            switch(choice) {
                case '1':
                    if (Math.random() < 0.3) {
                        success = true;
                        message = '–í–∞–º —É–¥–∞–ª–æ—Å—å –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è! –ì—Ä–∞–±–∏—Ç–µ–ª–∏ —Å–¥–∞–ª–∏—Å—å –±–µ–∑ –±–æ–π.';
                        type = 'success';
                    } else {
                        message = '–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã –∑–∞—à–ª–∏ –≤ —Ç—É–ø–∏–∫. –ì—Ä–∞–±–∏—Ç–µ–ª–∏ –ø—Ä–∏–≤–µ–ª–∏ –≤ –¥–µ–π—Å—Ç–≤–∏–µ —á–∞—Å—Ç—å –≤–∑—Ä—ã–≤—á–∞—Ç–∫–∏.';
                        player.securityLevel -= 30;
                        type = 'error';
                    }
                    break;
                    
                case '2':
                    if (Math.random() < 0.7) {
                        success = true;
                        message = '–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ –≤—Ä–µ–º—è! –°–ø–µ—Ü–Ω–∞–∑ —É—Å–ø–µ–ª –æ–±–µ–∑–≤—Ä–µ–¥–∏—Ç—å –≤–∑—Ä—ã–≤—á–∞—Ç–∫—É –∏ –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –≥—Ä–∞–±–∏—Ç–µ–ª–µ–π.';
                        type = 'success';
                    } else {
                        message = '–ì—Ä–∞–±–∏—Ç–µ–ª–∏ —Ä–∞—Å–∫—É—Å–∏–ª–∏ –≤–∞—à –ø–ª–∞–Ω –∏ –ø—Ä–∏–≤–µ–ª–∏ –≤ –¥–µ–π—Å—Ç–≤–∏–µ –≤–∑—Ä—ã–≤—á–∞—Ç–∫—É.';
                        player.securityLevel -= 40;
                        type = 'error';
                    }
                    break;
                    
                case '3':
                    if (Math.random() < 0.5) {
                        success = true;
                        message = '–í–∑—Ä—ã–≤—á–∞—Ç–∫–∞ –æ–±–µ–∑–≤—Ä–µ–∂–µ–Ω–∞! –ì—Ä–∞–±–∏—Ç–µ–ª–∏ –∑–∞–¥–µ—Ä–∂–∞–Ω—ã.';
                        type = 'success';
                    } else {
                        message = '–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–µ–∑–≤—Ä–µ–¥–∏—Ç—å –≤—Å—é –≤–∑—Ä—ã–≤—á–∞—Ç–∫—É. –ß–∞—Å—Ç—å –∑–¥–∞–Ω–∏—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞.';
                        player.securityLevel -= 25;
                        type = 'error';
                    }
                    break;
                    
                case '4':
                    if (Math.random() < 0.4) {
                        success = true;
                        message = '–®—Ç—É—Ä–º —É—Å–ø–µ—à–µ–Ω! –í—Å–µ –≥—Ä–∞–±–∏—Ç–µ–ª–∏ –Ω–µ–π—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã.';
                        type = 'success';
                    } else {
                        message = '–®—Ç—É—Ä–º –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è. –ì—Ä–∞–±–∏—Ç–µ–ª–∏ –ø—Ä–∏–≤–µ–ª–∏ –≤ –¥–µ–π—Å—Ç–≤–∏–µ –≤–∑—Ä—ã–≤—á–∞—Ç–∫—É.';
                        player.securityLevel -= 50;
                        type = 'error';
                    }
                    break;
            }
            
            updateSecurityDisplay();
            
            if (checkSecurityLevel()) return;
            
            if (player.securityLevel > 70 && success) {
                player.ending = 'good';
            } else if (player.securityLevel > 40) {
                player.ending = 'neutral';
            } else {
                player.ending = 'bad';
            }
            
            showNotification(message, type);
            completeMission(success, message);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
        function handleCorrectChoice(scene, choice) {
            player.securityLevel += 10;
            if (player.securityLevel > 100) player.securityLevel = 100;
            
            switch(scene) {
                case 1:
                    player.resources.cameras += 4;
                    showScene(2);
                    showNotification('–°–∏—Å—Ç–µ–º–∞ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞! –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞–º–µ—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.', 'success');
                    break;
                    
                case 2:
                    player.resources.guards += 2;
                    showScene(3);
                    showNotification('–ü–æ–ª–∏—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∞ –∏ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫ –±–∞–Ω–∫—É. –ü–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–æ.', 'success');
                    break;
                    
                case 4:
                    player.resources.firewall = true;
                    showScene(5);
                    showNotification('–ö–∏–±–µ—Ä–∞—Ç–∞–∫–∞ –æ—Ç—Ä–∞–∂–µ–Ω–∞! –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º.', 'success');
                    break;
                    
                case 6:
                    showScene(7);
                    showNotification('–°–∏—Å—Ç–µ–º–∞ –≥–∞–∑–æ–≤–æ–≥–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞! –ì—Ä–∞–±–∏—Ç–µ–ª–∏ –Ω–µ–π—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã.', 'success');
                    break;
            }
            
            updateSecurityDisplay();
            updateResourcesDisplay();
            
            checkSecurityLevel();
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
        function handleIncorrectChoice(scene, choice) {
            player.securityLevel -= 15;
            
            addConsequence(scene, choice);
            
            switch(scene) {
                case 1:
                    showNotification('–ù–µ–≤–µ—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ! –£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–Ω–∏–∂–µ–Ω.', 'warning');
                    break;
                    
                case 2:
                    showNotification('–û—à–∏–±–∫–∞! –£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–Ω–∏–∂–µ–Ω.', 'warning');
                    break;
                    
                case 4:
                    showNotification('–ö–∏–±–µ—Ä–∞—Ç–∞–∫–∞ —É—Å–ø–µ—à–Ω–∞! –ß–∞—Å—Ç—å —Å–∏—Å—Ç–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∞.', 'error');
                    player.resources.cameras -= 8;
                    break;
                    
                case 6:
                    showNotification('–ì—Ä–∞–±–∏—Ç–µ–ª–∏ –ø—Ä–µ–æ–¥–æ–ª–µ–ª–∏ –∑–∞—â–∏—Ç—É –∏ –ø—Ä–æ–Ω–∏–∫–ª–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ!', 'error');
                    player.securityLevel -= 25;
                    break;
            }
            
            updateSecurityDisplay();
            updateResourcesDisplay();
            
            if (checkSecurityLevel()) return;
            
            if (scene < 6) {
                showScene(scene + 1);
            } else {
                showScene(7);
            }
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
        function addConsequence(scene, choice) {
            const consequences = {
                1: "–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –æ—Å–ª–∞–±–∏–ª–æ –æ–±—â—É—é –∑–∞—â–∏—Ç—É.",
                2: "–ó–∞–¥–µ—Ä–∂–∫–∞ –≤ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ–∑–≤–æ–ª–∏–ª–∞ –≥—Ä–∞–±–∏—Ç–µ–ª—è–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—å—Å—è –¥–∞–ª—å—à–µ.",
                4: "–ö–∏–±–µ—Ä–∞—Ç–∞–∫–∞ –Ω–∞–Ω–µ—Å–ª–∞ —É—â–µ—Ä–± —Å–∏—Å—Ç–µ–º–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.",
                6: "–ì—Ä–∞–±–∏—Ç–µ–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ —Ü–µ–Ω–Ω–æ—Å—Ç—è–º —Ö—Ä–∞–Ω–∏–ª–∏—â–∞."
            };
            
            if (consequences[scene]) {
                player.consequences.push(consequences[scene]);
            }
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏—Å—Å–∏–∏
        function completeMission(success, message) {
            clearInterval(player.timerInterval);
            showScene(8);
            
            let resultText = '';
            let resultClass = '';
            
            if (player.ending === 'good') {
                resultText = '–ú–ò–°–°–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ê –ë–õ–ï–°–¢–Ø–©–ï!';
                resultClass = 'success';
            } else if (player.ending === 'neutral') {
                resultText = '–ú–ò–°–°–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ê –ß–ê–°–¢–ò–ß–ù–û';
                resultClass = 'success';
            } else {
                resultText = '–ú–ò–°–°–ò–Ø –ü–†–û–í–ê–õ–ï–ù–ê';
                resultClass = 'failure';
            }
            
            if (missionResult) {
                missionResult.textContent = resultText;
                missionResult.className = `result ${resultClass}`;
            }
            
            generateEndingContent(success, message);
            
            if (commitMessageInput) {
                commitMessageInput.value = `–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏—Å—Å–∏–∏. –£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: ${player.securityLevel}%. –°–æ—Ç—Ä—É–¥–Ω–∏–∫: ${player.name} ${player.surname}, ID: ${player.id}. –†–µ–∑—É–ª—å—Ç–∞—Ç: ${resultText}`;
            }
            
            setTimeout(scrollToTop, 100);
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∫–æ–Ω—Ü–æ–≤–∫–∏
        function generateEndingContent(success, message) {
            if (!endingContent) return;
            
            let content = '';
            
            if (player.ending === 'good') {
                content = `
                    <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, ${player.name} ${player.surname}!</p>
                    <p>–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—â–∏—Ç–∏–ª–∏ –±–∞–Ω–∫ –æ—Ç –æ–≥—Ä–∞–±–ª–µ–Ω–∏—è. –í—Å–µ –≥—Ä–∞–±–∏—Ç–µ–ª–∏ –∑–∞–¥–µ—Ä–∂–∞–Ω—ã, —É—â–µ—Ä–± –º–∏–Ω–∏–º–∞–ª–µ–Ω.</p>
                    <p>${message}</p>
                    <p>–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –±–∞–Ω–∫–∞ –≤—ã—Å–æ–∫–æ –æ—Ü–µ–Ω–∏–ª–æ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è. –û–∂–∏–¥–∞–π—Ç–µ –ø–æ–≤—ã—à–µ–Ω–∏—è!</p>
                `;
            } else if (player.ending === 'neutral') {
                content = `
                    <p>${player.name} ${player.surname}, –º–∏—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —É—Å–ø–µ—Ö–æ–º.</p>
                    <p>–ë–∞–Ω–∫ —É–¥–∞–ª–æ—Å—å –∑–∞—â–∏—Ç–∏—Ç—å, –Ω–æ –±—ã–ª–∏ –ø–æ—Ç–µ—Ä–∏ –∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è.</p>
                    <p>${message}</p>
                    <p>–í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –Ω–∞–ø–∏—Å–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–µ–º.</p>
                `;
            } else {
                content = `
                    <p>${player.name} ${player.surname}, –º–∏—Å—Å–∏—è –ø—Ä–æ–≤–∞–ª–µ–Ω–∞.</p>
                    <p>–ë–∞–Ω–∫ –ø–æ–Ω–µ—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏. –ß–∞—Å—Ç—å —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π –±—ã–ª–∞ –ø–æ—Ö–∏—â–µ–Ω–∞.</p>
                    <p>${message}</p>
                    <p>–í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –æ–±—ä—è—Å–Ω–∏—Ç—å—Å—è –ø–µ—Ä–µ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ–Ω–µ—Å—Ç–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.</p>
                `;
            }
            
            content += `<p>–ò—Ç–æ–≥–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: ${player.securityLevel}%</p>`;
            content += `<p>–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏—Å—Å–∏–∏: ${timerElement ? timerElement.textContent : '00:00'}</p>`;
            content += `<p>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—à–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π: ${player.randomEvents.length}</p>`;
            
            if (player.consequences.length > 0) {
                content += `<div class="consequences-list"><h4>–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤–∞—à–∏—Ö —Ä–µ—à–µ–Ω–∏–π:</h4>`;
                player.consequences.forEach(consequence => {
                    content += `<div class="consequence-item">${consequence}</div>`;
                });
                content += `</div>`;
            }
            
            endingContent.innerHTML = content;
        }

        // –ü—Ä–æ–≤–∞–ª –º–∏—Å—Å–∏–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ –ø–æ–ø—ã—Ç–æ–∫)
        function failMission(reason) {
            player.attempts--;
            updateAttemptsDisplay();
            
            if (player.attempts > 0) {
                showNotification(`–ú–∏—Å—Å–∏—è –ø—Ä–æ–≤–∞–ª–µ–Ω–∞: ${reason}. –£ –≤–∞—Å –æ—Å—Ç–∞–ª–æ—Å—å ${player.attempts} –ø–æ–ø—ã—Ç–∫–∞(–∏). –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–Ω–æ–≤–æ.`, 'warning');
                player.securityLevel = 60;
                showScene(1);
            } else {
                showNotification('–ò—Å—á–µ—Ä–ø–∞–Ω—ã –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏. –ú–∏—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞.', 'error');
                player.ending = 'bad';
                completeMission(false, reason);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
        function saveReport() {
            if (!commitMessageInput || !gitOutput) return;
            
            const commitMessage = commitMessageInput.value.trim();
            
            if (!commitMessage) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç—á–µ—Ç–∞!', 'error');
                return;
            }
            
            gitOutput.style.display = 'block';
            gitOutput.innerHTML = '<p>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞...</p>';
            
            setTimeout(() => {
                const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
                const filename = `security_report_${player.name}_${player.surname}_${timestamp}.txt`;
                
                gitOutput.innerHTML = `
                    <p><strong>–û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω:</strong></p>
                    <p>–§–∞–π–ª: ${filename}</p>
                    <p style="margin-top: 10px; color: #4db8ff;">‚úì –û—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±–∞–Ω–∫–∞</p>
                `;
                
                showNotification('–û—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!', 'success');
            }, 1500);
        }

        // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
        function restartGame() {
            player.attempts = 3;
            player.currentAttempt = 0;
            player.currentScene = 0;
            player.securityLevel = 60;
            player.resources = {
                guards: 8,
                cameras: 24,
                sensors: 12,
                alarm: true,
                firewall: true,
                gasSystem: true,
                drones: 2,
                budget: 50000,
                loyalty: 85,
                tacticalTeams: 2,
                patrols: 3
            };
            player.choicesHistory = [];
            player.ending = '';
            player.randomEvents = [];
            player.consequences = [];
            player.activeEvent = null;
            
            clearInterval(player.timerInterval);
            updateAttemptsDisplay();
            updateResourcesDisplay();
            showScene(0);
            
            if (playerNameInput) playerNameInput.value = '';
            if (playerSurnameInput) playerSurnameInput.value = '';
            if (playerIdInput) playerIdInput.value = '';
            if (commitMessageInput) commitMessageInput.value = '';
            if (gitOutput) gitOutput.style.display = 'none';
            
            if (notificationArea) notificationArea.innerHTML = '';
            
            showNotification('–ù–æ–≤–∞—è —Å–º–µ–Ω–∞ –Ω–∞—á–∞—Ç–∞. –£–¥–∞—á–∏!', 'success');
            
            setTimeout(scrollToTop, 100);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ø—ã—Ç–æ–∫
        function updateAttemptsDisplay() {
            if (attemptsCount) {
                attemptsCount.textContent = player.attempts;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        function updateSecurityDisplay() {
            const securityElements = [
                document.getElementById('security-level'),
                document.getElementById('security-level-2'),
                document.getElementById('security-level-3'),
                document.getElementById('security-level-4'),
                document.getElementById('security-level-5'),
                document.getElementById('security-level-6'),
                document.getElementById('security-level-7')
            ];
            
            const percentElements = [
                document.getElementById('security-percent'),
                document.getElementById('security-percent-2'),
                document.getElementById('security-percent-3'),
                document.getElementById('security-percent-4'),
                document.getElementById('security-percent-5'),
                document.getElementById('security-percent-6'),
                document.getElementById('security-percent-7')
            ];
            
            securityElements.forEach(el => {
                if (el) el.style.width = `${player.securityLevel}%`;
            });
            
            percentElements.forEach(el => {
                if (el) el.textContent = `${player.securityLevel}%`;
            });
            
            const securityFill = document.querySelectorAll('.security-fill');
            securityFill.forEach(el => {
                if (player.securityLevel > 70) {
                    el.style.background = 'linear-gradient(to right, #ff3333, #00cc00)';
                } else if (player.securityLevel > 40) {
                    el.style.background = 'linear-gradient(to right, #ff3333, #ffff00)';
                } else {
                    el.style.background = 'linear-gradient(to right, #ff3333, #ff3333)';
                }
            });
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
        function updateResourcesDisplay() {
            document.querySelectorAll('[id^="resource-guards"]').forEach(el => {
                if (el) el.textContent = player.resources.guards;
            });
            
            document.querySelectorAll('[id^="resource-cameras"]').forEach(el => {
                if (el) el.textContent = player.resources.cameras;
            });
            
            document.querySelectorAll('[id^="resource-sensors"]').forEach(el => {
                if (el) el.textContent = player.resources.sensors;
            });
            
            const budgetElement = document.getElementById('resource-budget');
            if (budgetElement) budgetElement.textContent = player.resources.budget.toLocaleString();
            
            document.querySelectorAll('[id^="resource-loyalty"]').forEach(el => {
                if (el) el.textContent = player.resources.loyalty;
            });
            
            const dronesElement = document.getElementById('resource-drones');
            if (dronesElement) dronesElement.textContent = player.resources.drones;
            
            const tacticalElement = document.getElementById('resource-tactical');
            if (tacticalElement) tacticalElement.textContent = player.resources.tacticalTeams;
            
            const patrolsElement = document.getElementById('resource-patrols');
            if (patrolsElement) patrolsElement.textContent = player.resources.patrols;
        }

        // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
        function startTimer() {
            player.timerInterval = setInterval(() => {
                const now = new Date();
                const diff = Math.floor((now - player.startTime) / 1000);
                const minutes = Math.floor(diff / 60);
                const seconds = diff % 60;
                if (timerElement) {
                    timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }
            }, 1000);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
        function updateProgress() {
            if (progressBar) {
                const progress = (player.currentScene / 8) * 100;
                progressBar.style.width = `${progress}%`;
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–≥—Ä—É...');
            initGame();
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∫–æ—Ä–æ—Ç–∫—É—é –∑–∞–¥–µ—Ä–∂–∫—É
            setTimeout(() => {
                if (!startMissionButton) {
                    console.error('–ö–Ω–æ–ø–∫–∞ –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –ø—Ä–æ–±—É–µ–º —Å–Ω–æ–≤–∞...');
                    startMissionButton = document.getElementById('start-mission');
                    if (startMissionButton) {
                        startMissionButton.addEventListener('click', startMission);
                        console.log('–ö–Ω–æ–ø–∫–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–±–∞–≤–ª–µ–Ω');
                    }
                }
            }, 100);
        });

        // –ö–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        console.log('–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:');
        console.log('startMissionButton:', document.getElementById('start-mission'));
        console.log('playerNameInput:', document.getElementById('player-name'));
        console.log('–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã scene:', document.querySelectorAll('.scene'));

        // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –ø—Ä–∏–≤—è–∑–∫–∏ —Å–æ–±—ã—Ç–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            const startBtn = document.getElementById('start-mission');
            if (startBtn) {
                startBtn.onclick = startMission;
                console.log('–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ onclick');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            const requiredElements = [
                'attempts-count', 'timer', 'progress', 'player-name', 
                'player-surname', 'player-id', 'start-mission'
            ];
            
            requiredElements.forEach(id => {
                const element = document.getElementById(id);
                console.log(`–≠–ª–µ–º–µ–Ω—Ç ${id}:`, element ? '–Ω–∞–π–¥–µ–Ω' : '–ù–ï –ù–ê–ô–î–ï–ù');
            });
        });

        //–ì–ò–¢

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–≥—Ä—ã
function saveGameResults() {
    const gameData = {
        player: {
            name: player.name,
            surname: player.surname,
            id: player.id
        },
        mission: {
            securityLevel: player.securityLevel,
            ending: player.ending,
            timeSpent: timerElement ? timerElement.textContent : '00:00',
            choices: player.choicesHistory.length,
            randomEvents: player.randomEvents.length,
            consequences: player.consequences.length
        },
        timestamp: new Date().toISOString(),
        version: '1.0'
    };

    return gameData;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ GitHub
async function sendResultsToGitHub() {
    const gameData = saveGameResults();
    const commitMessage = commitMessageInput ? commitMessageInput.value : `Game results - ${player.name} ${player.surname}`;
    
    try {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏
        if (gitOutput) {
            gitOutput.style.display = 'block';
            gitOutput.innerHTML = '<p>–û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä...</p>';
        }

        // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ –∫ GitHub API —á–µ—Ä–µ–∑ GitHub Actions

        if (gitOutput) {
            gitOutput.innerHTML = `
                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!</strong></p>
                <p>ID –æ—Ç—á–µ—Ç–∞: ${response.id}</p>
                <p>–í—Ä–µ–º—è: ${new Date().toLocaleString()}</p>
                <p style="color: #4db8ff;">‚úì –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ</p>
            `;
        }
        
        showNotification('–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!', 'success');
        return true;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:', error);
        if (gitOutput) {
            gitOutput.innerHTML = `<p style="color: #ff6666;">–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ${error.message}</p>`;
        }
        showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤', 'error');
        return false;
    }
}

// –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ GitHub API (–±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤)
// –†–µ–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ GitHub API
async function sendToGitHubAPI(gameData, commitMessage) {
    const GITO = process.env.GITO; // –ë—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Secrets
    const REPO_OWNER = 'maksvesh'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à username
    const REPO_NAME = 'gorod'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
    
    const payload = {
        event_type: 'game_results',
        client_payload: {
            game_data: JSON.stringify(gameData),
            commit_message: commitMessage,
            player_name: player.name,
            player_id: player.id
        }
    };
    
    const response = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/dispatches`, {
        method: 'POST',
        headers: {
            'Authorization': `token ${GITO}`,
            'Accept': 'application/vnd.github.v3+json',
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
    });
    
    if (!response.ok) {
        throw new Error(`GitHub API error: ${response.status}`);
    }
    
    return await response.json();
}
    </script>
</body>
</html>





